language: python
cache: pip

notifications:
  email:
    recipients:
      - martin.lim@rsa.rohde-schwarz.com
    on_success: never     # default: change
    on_failure: always    # default: always

python:
  - "3.6"
  - "3.7"
  - "3.8"

os:
  - linux
  # - osx         #Not working 19.04.23
  # - windows     #Windows does not support python
  
# command to install dependencies
install:
  # - pip install -r requirements.txt
  - pip install future_fstrings     #3.6 f-Strings in 2.7
  - pip install pyvisa
  - pip install coveralls
  - pip install pyvisa-py           #testing

# command to run tests
script:
  # - python -m unittest -v test.test_RSSD
  - coverage run -m unittest -v test.test_RSSD
  - coverage run -a -m unittest -v test.test_FileIO
  - coverage run -a -m unittest -v test.test_yaVISA
  - coverage run -a -m unittest -v test.test_HW_VSA_5GNR
  - coverage run -a -m unittest -v test.test_HW_VSA_ADemod
  - coverage run -a -m unittest -v test.test_HW_VSA_Common
  - coverage run -a -m unittest -v test.test_HW_VSA_Common_CCDF
  - coverage run -a -m unittest -v test.test_HW_VSA_Common_Harm
  - coverage run -a -m unittest -v test.test_HW_VSA_Common_IQ
  - coverage run -a -m unittest -v test.test_HW_VSA_LTE
  - coverage run -a -m unittest -v test.test_HW_VSG_5GNR
  - coverage run -a -m unittest -v test.test_HW_VSG_Common
  - coverage run -a -m unittest -v test.test_HW_VSG_CustomDigMod
  - coverage run -a -m unittest -v test.test_HW_VSG_Fading
  - coverage run -a -m unittest -v test.test_HW_VSG_LTE
  - coverage run -a -m unittest -v test.test_HW_VSG_WLAN

after_success:
  - coveralls

